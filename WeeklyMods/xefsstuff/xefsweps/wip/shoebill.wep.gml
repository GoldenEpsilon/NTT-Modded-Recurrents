#define init
global.sprShob_Small = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAD0AAAAQCAMAAACSjoczAAAAJ1BMVEUAAAAdGyMvLjQAAAAdGhcdGyMvLjQyLitITDxRUFh5fmuqr5f///+zBtQlAAAAA3RSTlMAAAD6dsTeAAAAhUlEQVR42t3SSxKEMAgE0IkEJM397zsCKRdoRdc+XaSo7kU+v2+h9DpbJuKY1jLKIr5q23a2hxPYCrxEkDGoGAEG87+KcdbJjlzf+z51/2Y7UrgvZ50gIr2QoJm5mmM92ur7LqLMCjVTXOVYY+PMHKfW2nlqHDyhuKNRLjdW2rT29Fo+7A8Q7gvcgUBsMAAAAABJRU5ErkJggg==", 12, 8);

global.sprShob_Small_flash0 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAD4AAAAQCAMAAAB5uTwwAAAAKlBMVEUAAAAdGyMvLjQAAAAdGhcdGyMvLjQyLitITDxRUFh5fmuS/9Cqr5f///8W740OAAAAA3RSTlMAAAD6dsTeAAAAg0lEQVR42t2S0Q4DIQgE6yFY0f7/7/bYEpsQo03u6Tr6ZJigi4+/gz6014rWvsVBF4N3OnxiEdPTcQy9GqJ9hcInlVopUIF27bYjOHaf+lmYSy5OtuU6ynRqu2/dRXJAgM7bu+v6094egM0/XN6iY0Z0KY3oGOyjmw7O9f3gLn6bm/MGeYcTQRW2FIAAAAAASUVORK5CYII=", 12, 8);

global.sprShob_Small_flash1 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAD0AAAAQCAMAAACSjoczAAAALVBMVEUAAAAdGyMvLjQAAAAdGhcdGyMn6oMvLjQyLitITDxRUFh5fmuS/9Cqr5f///+7kGpYAAAAA3RSTlMAAAD6dsTeAAAAiUlEQVR42t2SOxLDIAwFg0GSQZD7H9f6MBREiVN7oXrztkDi9Syy83d3S0gBxN77O0JyRK8CkdrpOJbdFOLxC0ZtMrWWN5rBQ3yORL8o9pBeOcs5KXqmbS2OZdczE1HZIKN655MZV7GrvnvDZKgcy7xknRqATS2lNTUwpPUVk+ONuX23sbvf8mAuqqwP3ysqs8oAAAAASUVORK5CYII=", 12, 8);

global.sprShob_Small_flash2 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAD0AAAAQCAMAAACSjoczAAAAJFBMVEUAAAAAAAAdGhcdGyMn6oMvLjQyLitITDxRUFh5fmuS/9Cqr5cE4l6cAAAAAXRSTlMAQObYZgAAAH9JREFUeNrd0ksWhCAMRNEOoQyR/e+382EUOerYqyNOvQn6+xZKr7flBI57OK96yCkDtR4OOu+o56QYg4oRdFqvuzDfbvW0XTvasTR/Vh0r3ceZkwJoBYLk5modi9XCABVwLCoZVxaLx3FrzPXWOPhC545m7Mjs6qcv9vS3fNgftLMLtznUQSoAAAAASUVORK5CYII=", 12, 8);

global.sprShob_Small_flash3 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAD0AAAAQCAMAAACSjoczAAAAKlBMVEUAAAAdGyMvLjQAAAAAbUUdGhcdGyMn6oMvLjQyLitITDxRUFh5fmuqr5ecrKvOAAAAA3RSTlMAAAD6dsTeAAAAi0lEQVR42t3SwRKDMAhFUSOGIoH//936INOZJpnatUdXDHdh4vYslP7eHSYCfMBr5YBcZRHUZd8/dQMx/8WQk0lrNGjB3BzvBOPMya+9etazq3h6HVu2jjMnE5E6kKC5M+tjvWrFdw8EWE3d1WYYI45TY45TK2XriAM2EPs35D1e3xjD3Y3d/S0P9ga6Ow7RgP+ZdwAAAABJRU5ErkJggg==", 12, 8);

global.sprShob_Large = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAEUAAAAQCAMAAAB3EEJfAAAAJ1BMVEUAAAAdGyMvLjQAAAAAbUUdGhcdGyMvLjQyLitITDxRUFh5fmuqr5eSFT0VAAAAA3RSTlMAAAD6dsTeAAAAiUlEQVR4AeXSwQ6DQAgEUNeJUJj9/+9tmPawDW20Z58m6AQ54G53gZc/v2iZF8MVW4G5Y6+nsVcRZHHOc0T10zPRpHBy1t0oXsZgZubxqOtNLylUN78PWceA7n40LqFeNp9xYEOYOxovFow5g90aB7RdMwxtd6gUmAQZwW6NA7//tAmuOD91t/UEsi4O6j0wH9QAAAAASUVORK5CYII=", 14, 8);

global.sprShob_Large_flash0 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAEYAAAAQCAMAAACcJ/lcAAAAJFBMVEUAAAAAAAAdGhcdGyMvLjQyLitITDxRUFh5fmuS/9Cqr5f///++YXj1AAAAAXRSTlMAQObYZgAAAHxJREFUeNrlktEOgCAIRSNugfT//9sgN1e46UNPdfRFp2d4cfkRdFGOMaW0K0kDh+c04SEGskYcqI3R8JBChBISqKn5TNTt5iETkXXzUYlF1cRx7VpuHq8GWBMItF9OOB6a3bNJwOHpR3nEzDliDuYjbg3PmtmGv/T9PsoJ5GIRxHzWQWkAAAAASUVORK5CYII=", 14, 8);

global.sprShob_Large_flash1 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAEUAAAAQCAMAAAB3EEJfAAAAJ1BMVEUAAAAAAAAdGhcdGyMn6oMvLjQyLitITDxRUFh5fmuS/9Cqr5f///9hyk0eAAAAAXRSTlMAQObYZgAAAIVJREFUeNrlksEOAyEIROvCVNH+//cWWJPGzDa2532exOEdwMddKCd/dlANgaj23l/f8VfVs0EAtrQANvaYRt7QWiFaYsM9F6pZ/mjK8PTxjDPJy7Rk2i4li6YYgINAUjNrxFqubqkxFwKBVMs0s0pyuiI8XUk8vcMly6bZ8tum97/utrwBxZwOlb8plbMAAAAASUVORK5CYII=", 14, 8);

global.sprShob_Large_flash2 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAEUAAAAQCAMAAAB3EEJfAAAAJFBMVEUAAAAAAAAdGhcdGyMn6oMvLjQyLitITDxRUFh5fmuS/9Cqr5cE4l6cAAAAAXRSTlMAQObYZgAAAINJREFUeAHl0jGywzAIBNAv4/2w4f73TRalcEI0Htd+diNGbAH6u4sxXexoNYjt5bGyl9lgQE8JAfMcFTOIiNFEYTL1N8eyYkZGxPav760OUVi3+TvkGDMIYGtQnNXQfJb9leKaSwMxp/cQ+QrRdM36dK046cy1GbLetMmFTZ+/ujt6AvaEDbeDpo1bAAAAAElFTkSuQmCC", 14, 8);

global.sprShob_Large_flash3 = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAAEUAAAAQCAMAAAB3EEJfAAAAJFBMVEUAAAAAAAAAbUUdGhcdGyMn6oMvLjQyLitITDxRUFh5fmuqr5c0Il41AAAAAXRSTlMAQObYZgAAAIFJREFUeNrl0kEOhSAMBNDfbx1pe//7akdjQopR1z7YUMosgN9XyO7liVJD0n+ar3F/P6BATbGEeMAzRhxmUhiFR86iq2eMhJlNS44DF0Zs9nFIFyMOYCpAzv6qr7ctpSkgBZJ6i2g+0IfwdlXr7SptLQyJkTPk+qWVHr30/a/7rBUcuQ1SOmq0HAAAAABJRU5ErkJggg==", 14, 8);

global.sprShob_Back = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAMAAABTCc2fAAAALVBMVEUAAAAdGyMvLjRITDx5fmuqr5cAAAAdGhcdGyMvLjQyLitITDxRUFh5fmuqr5fWiHdVAAAABnRSTlMAAAAAAABupgeRAAAAcElEQVR42s3QSw6AMAgE0GmtI2j1/seVpiTiJ3GprwsyZLoBHxpwwQ4PeCLahKJ/G0dqJFobwuVMWzKjUGskfTCoVVci9GJxmtszNixuBEVPPE6BxZUYLk3pkYEtF6IUygPCpcQW0/08R9G9XBX/sQPz7wklvl7pPwAAAABJRU5ErkJggg==", 7, 8);

#define weapon_name
return "SHOEBILL";

#define weapon_sprt

if !instance_exists(Player){
	return global.sprShob_Small;
}
else if (wep != "shoebill"){
	return global.sprShob_Back;
}
else {
	if (skill_get(13)=1){
		with(Player){
			if (other.wkick <= -20){return global.sprShob_Large_flash0;}
			else if (other.wkick < -10){return global.sprShob_Large_flash1;}
			else if (other.wkick < -5){return global.sprShob_Large_flash2;}
			else if (other.wkick < 0){return global.sprShob_Large_flash3;}
			else {return global.sprShob_Large;}
		}
	}
	else {
		with(Player){
			if (other.wkick <= -20){return global.sprShob_Small_flash0;}
			else if (other.wkick < -10){return global.sprShob_Small_flash1;}
			else if (other.wkick < -5){return global.sprShob_Small_flash2;}
			else if (other.wkick < 0){return global.sprShob_Small_flash3;}
			else {return global.sprShob_Small;}
		}
	}
}

#define weapon_type
return 0;

#define weapon_melee
return 0;

#define weapon_auto
return false;

#define weapon_load
return 35;

#define weapon_cost
return 0;

#define weapon_swap
return sndSwapHammer;

#define weapon_area
return 15;

#define weapon_text
return "CRUSH";

#define weapon_fire

if (skill_get(13)=1){
	wkick = -23;
}
else{
	wkick = -20;
}

motion_add(other.gunangle,4);
sound_play_gun(sndEnergyHammer, 0.5, 0.2);

lastangle = gunangle;


#define game_start
other.movdmg = 0;

#define step

if (wep = "shoebill"){

	other.movdmg = 16;

	if other.speed > 4 {
		other.movdmg += 4;
	}
	
	if (wkick < 0){

		if abs(gunangle - lastangle) > 7.5 {
			with instance_create(x+lengthdir_x(30 - wkick + 4*skill_get(13),gunangle),y+lengthdir_y(38 - wkick + 4*skill_get(13),gunangle),Dust){
				speed = 2;
				direction = other.gunangle + random(45) - 22.5;
			}
			other.movdmg += 4;
		}
		
		lastangle = gunangle;
	
		x11 = x+lengthdir_x(14 - wkick,gunangle)+lengthdir_x(4,gunangle+90);
		y11 = y+lengthdir_y(14 - wkick,gunangle)+lengthdir_y(4,gunangle+90);
		x21 = x+lengthdir_x(46 - wkick + 6*skill_get(13),gunangle)+lengthdir_x(3.9,gunangle+90);
		y21 = y+lengthdir_y(46 - wkick + 6*skill_get(13),gunangle)+lengthdir_y(3.9,gunangle+90);

		x12 = x+lengthdir_x(14 - wkick,gunangle)+lengthdir_x(4,gunangle-90);
		y12 = y+lengthdir_y(14 - wkick,gunangle)+lengthdir_y(4,gunangle-90);
		x22 = x+lengthdir_x(46 - wkick + 6*skill_get(13),gunangle)+lengthdir_x(3.9,gunangle-90);
		y22 = y+lengthdir_y(46 - wkick + 6*skill_get(13),gunangle)+lengthdir_y(3.9,gunangle-90);

		with (collision_line(x11,y11,x21,y21,hitme,0,0)) if(team != other.team && sprite_index != spr_hurt){
			if (other.movdmg >= 1){
				sound_play(snd_hurt);
				sprite_index = spr_hurt;
				image_index = 0;
				my_health -= other.movdmg;
				//motion_add(other.gunangle,7.5 * (10 / maxhealth));
			}
		}
		with (collision_line(x12,y12,x22,y22,hitme,0,0)) if(team != other.team && sprite_index != spr_hurt){
			if (other.movdmg >= 1){
				sound_play(snd_hurt);
				sprite_index = spr_hurt;
				image_index = 0;
				my_health -= other.movdmg;
				//motion_add(other.gunangle,7.5 * (10 / maxhealth));
			}
		}
	}
	if (wkick < 0){
		with(collision_line(x11,y11,x21,y21,projectile,0,0)) if(team != other.team){
			instance_destroy();
		}
		with(collision_line(x12,y12,x22,y22,projectile,0,0)) if(team != other.team){
			instance_destroy();
		}
	}

}