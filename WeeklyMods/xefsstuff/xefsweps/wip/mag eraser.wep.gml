#define init
global.sprmgEprev = sprite_add_weapon("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAF1JREFUeNq9zsERgCAMRFHW4Ooa6L9dE0eBCnwn+MkMlBeAMswmFz4jkzLSnVXinAAk1brkgY4oyTazSGKqiLwfKY65/Vx2lMgp5zwvjjfxxtD6/MXy7nmNusqFH9wbpwJ/SQQw/QAAAABJRU5ErkJggg==", 3, 2);
global.sprmgEX = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAGNJREFUeNqlkFEOgCAMQ6nTypze/7p2BsGET9/X9tpkhNIAUDrDeTheuibdyAiu7hwJQCXn5R6CAZnEFjMpZ7JCetsTjdl+lg1FOsmc9WC/iSbFeY1XfO7WA2VG7Un/b8/fdQM0KQLdiha2/wAAAABJRU5ErkJggg==", 1, 3, 2);
global.sprmgE9 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAGVJREFUeNqVkFEKgDAMQxe3xdXq/a9rKropguD7al8CHUsnAFJnOHPDRdekZdKdxYwjAahk3cxc0CET5ClnKWNQIF3nQGO0j6UiSQeRsy3sN3FKsW7jFbe7bUF6o/ZT/2yPf/lmBzHRAskN903TAAAAAElFTkSuQmCC", 1, 3, 2);
global.sprmgE8 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAGRJREFUeNqdkFEOgCAMQ6loZQ7uf107g2DCn+9re20yQuoASIPpzA0vQ5OWSXfuZpwJQCW1mbmgQybIW85SxmCH9HEGGqP9LAeSdBA5y8VxE12K2uYrPnfLhbSi9qrX9vcDfnEDLCECrpTAdYgAAAAASUVORK5CYII=", 1, 3, 2);
global.sprmgE7 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAGFJREFUeNqtj0EOgDAIBLti1yL1/991MdqaeHVOMEsClBsAZTCdh+NhaNKNjODqzpkAVNIP9xAMyCS2mEk5kxXSdUtU5vTVVBTpJHO2nWMnbin6Ma947W07yhdNf/T49EdOJjECmoewNEAAAAAASUVORK5CYII=", 1, 3, 2);
global.sprmgE6 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAF1JREFUeNq9zsERgCAMRFHW4Ooa6L9dE0eBCnwn+MkMlBeAMswmFz4jkzLSnVXinAAk1brkgY4oyTazSGKqiLwfKY65/Vx2lMgp5zwvjjfxxtD6/MXy7nmNusqFH9wbpwJ/SQQw/QAAAABJRU5ErkJggg==", 1, 3, 2);
global.sprmgE5 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAFlJREFUeNrFzsERgCAMRFFWYDUG+m/XjQNIB74T/DBD0gAgTVszN0wrk5ZJdxYzfhOAmrRu5kKHSshHzkrGUKBcz6BjvH4vFUk5xJzXzfUnRpTWty1k2/0/DxIfAms8iXJxAAAAAElFTkSuQmCC", 1, 3, 2);
global.sprmgE4 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAALVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZiCh1seoSBaSKKlp6vHRLLpzr///9gXdIKAAAAAXRSTlMAQObYZgAAAFRJREFUeNrFzVESgCAIhGE3dGuj7n/doCE9Qt8T/jBjKwDatJpc+MxMykh3dolrA5DUdUse6IiSbDOLJKaOyGNPMeb1+xhokVPueZycf6JiaaXm/z0DUQJRolq5EgAAAABJRU5ErkJggg==", 1, 3, 2);
global.sprmgE3 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAAJ1BMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZseoSKlp6vHRLLpzr///8slmq8AAAAAXRSTlMAQObYZgAAAFRJREFUeNrNjkESgDAIA4m0Mej//yu02n7BPZENM2AvAGyxnUL4WJqUkxFsEncDkNR1S5EwYBj44Z5KLBpS97PIsbZH6LDURfUEuG5iypnWFzP/gQfSRAIXJOahTQAAAABJRU5ErkJggg==", 1, 3, 2);
global.sprmgE2 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAAJ1BMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZseoSKlp6vHRLLpzr///8slmq8AAAAAXRSTlMAQObYZgAAAFRJREFUeNrNzkECgCAIRFFHdBrq/vcNsvAKvRV8FtpeAFrZTS58KpMy0p1D4r4AJHVekgc6oiTrZpHENBB5HilGddOzTLTIKe8EWG9ixbXVL9b+BzfGHAIHDE6YvwAAAABJRU5ErkJggg==", 1, 3, 2);
global.sprmgE1 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAAJ1BMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZseoSKlp6vHRLLpzr///8slmq8AAAAAXRSTlMAQObYZgAAAFRJREFUeNrNzkECgCAIRFFHdBrq/vcNsvAKvRV8FtpeAFrZTS58KpMy0p1D4r4AJHVekgc6oiTrZpHENBB5HilGddOzTLTIKe8EWG9ixbXVL9b+BzfGHAIHDE6YvwAAAABJRU5ErkJggg==", 1, 3, 2);
global.sprmgE0 = sprite_add_base64("iVBORw0KGgoAAAANSUhEUgAAABYAAAAOCAMAAAAc7xz/AAAAIVBMVEUAAAAAAAAcIiYuNz4yOT4/GRNMVl1fLyZseoSKlp7///81IqFAAAAAAXRSTlMAQObYZgAAAFNJREFUeNrNjkESgDAIA5vSxvD/Dwui9AvuiWyYgfECYDTHyYWP1qSMdOeSeBqApKZJHtARJrFpFkpMFkLvK4kxt5+wMUIn2RNg30TJSv1F5T9wA7cUAfc2b4VWAAAAAElFTkSuQmCC", 1, 3, 2);

#define weapon_name
return "MAG ERASER";
#define weapon_sprt
with(self) if (instance_exists(Player)) && ("wep" in self) && ((wep = "mag eraser") || (bwep = "mag eraser")) && ("mgEclip" in self){
	if (mgEfram = 0) return global.sprmgE0;
	else if (mgEfram = 1) return global.sprmgE1;
	else if (mgEfram = 2) return global.sprmgE2;
	else if (mgEfram = 3) return global.sprmgE3;
	else if (mgEfram = 4) return global.sprmgE4;
	else if (mgEfram = 5) return global.sprmgE5;
	else if (mgEfram = 6) return global.sprmgE6;
	else if (mgEfram = 7) return global.sprmgE7;
	else if (mgEfram = 8) return global.sprmgE8;
	else if (mgEfram = 9) return global.sprmgE9;
	else if (mgEfram = 10) return global.sprmgEX;
}
else return global.sprmgE0;
#define weapon_type
return 2;
#define weapon_auto
return true;
#define weapon_load
return 30;
#define weapon_cost
return 0;
#define weapon_swap
return sndSwapMachinegun;
#define weapon_area
return -1;
#define weapon_text
return "XEFSTEMPLATE";

#define weapon_fire

if (("mgEclip" not in self) || (mgEclip = 0)) {
	if (ammo[2] >= 20) {
		ammo[2] -= 20;
		
		mgEclip = 20;
		mgEfram = 0;
		mgEshoo = 4;
		
		wkick = -10;
	} else {
		mgEclip = 0;
		mgEfram = 0;
		
		reload = 2;
		
		wkick = -3;
	}
} else {
	reload = 10;
	
	with instance_create(x,y,Slug) {
		team = other.team;
		creator = other;
		
		direction = other.gunangle;
		speed = 15;
	}
	with instance_create(x,y,Shell) {
		direction = other.gunangle + 120;
		speed = 5;
		sprite_index = sprShotShell;
	}
	
	mgEclip -= 1;
	if (mgEclip > 0) {
		mgEfram = mgEclip div 2 + 1;
	} else {
		mgEfram = 0;
	}
}
